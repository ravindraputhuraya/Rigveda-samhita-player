<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>RS-Player V3 (No Bar)</title>
    <meta name="apple-mobile-web-app-capable" content="yes">
    
    <script>
        /* PASTE THE HUGE JSZIP CODE HERE */
    </script>
    <script>if(typeof JSZip==='undefined'){document.write('<script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"><\/script>');}</script>

    <style>
        /* --- GLOBAL RESETS --- */
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        html, body {
            height: 100%; margin: 0; padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background: #f5f5f5; overflow: hidden; font-size: 14px;
        }

        /* --- FONTS & TYPOGRAPHY --- */
        @font-face {font-family:'Devanagari';src:url('AdishilaVedic.ttf');}
        @font-face {font-family:'Noto Sans Kannada';src:url('NotoSansKannada-Regular.ttf');}
        .Devanagari { font-family:'Devanagari', serif; font-size:90%; line-height: 1.6; letter-spacing: 0.08em; word-spacing: 0.3em; }
        .Kannada { font-family:'Noto Sans Kannada' !important; font-size:95%; }
        
        .RishiDevChandas, .RishiDevChandasChanged { 
            padding:0px; margin:0px; font-size:60%; 
            color:green; 
            font-family:'Noto Sans Kannada' !important; line-height:1; 
        }
        .RishiDevChandasChanged { color:red; }

        .MantraNumbering { font-size:50%; color:blue; }
        .NumberingRDC { margin-bottom: 2px; line-height: 1.4; text-align:center; font-weight:600; color:#444; font-size:0.8em; }
        .mantra-content { line-height: 1.8; text-align: center; display: block; }
        .swara { display: inline-block; line-height: 1; }
        .svarita { font-size: 100%; vertical-align: super; color: #c00; position: relative; top: -0.0em; left: -0.3em; display: inline-block; }

        /* --- ANUDATTA FIX (General) --- */
        .anudatta {
            position: relative;
            display: inline-block;
            top: 0.4em;
            left: -0.2em;
        }
        /* --- ANUDATTA FIX (iPad Only) --- */
        @supports (-webkit-touch-callout: none) {
            .anudatta {
                top: 0.4em; 
                left: -0.6em;
                margin-right: -0.5em; 
            }
        }

        /* --- ZOOM CLASSES --- */
        .zoom-100 { font-size: 20px; } .zoom-125 { font-size: 25px; } .zoom-150 { font-size: 30px; }
        .zoom-175 { font-size: 35px; } .zoom-200 { font-size: 40px; } .zoom-250 { font-size: 50px; } .zoom-300 { font-size: 60px; }

        /* --- APP LAYOUT --- */
        .app-container { display: flex; height: 100%; width: 100%; flex-direction: column; }
        .controls-container { background: white; box-shadow: 0 1px 3px rgba(0,0,0,0.1); z-index: 10; flex-shrink: 0; }
        .main-content { flex: 1; display: flex; flex-direction: column; overflow: hidden; background: #fcfcfc; position: relative; }
        #mantra-container { flex: 1; overflow-y: auto; padding: 10px; text-align: center; display: flex; align-items: center; justify-content: center; background: #ffe0b2; }

        /* ============================================================
           MODE 1: PHONE PORTRAIT (Base Styles)
           ============================================================ */
        
        /* HEADER - Balanced Layout */
        .top-bar-header {
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            padding: 6px 10px; 
            border-bottom: 1px solid #eee; 
            min-height: 48px; 
            flex-wrap: nowrap; /* Prevent messy wrapping */
        }
        
        .header-left-group { 
            display: flex; 
            align-items: center; 
            gap: 8px; 
            flex: 1; /* Takes available space */
            overflow: hidden; /* Prevents overflow */
        }
        
        .header-right-group {
            display: flex;
            align-items: center;
            gap: 10px;
            flex-shrink: 0; /* Keeps buttons visible */
        }
        
        .header-btn { background: none; border: none; font-size: 20px; padding: 4px; color: #555; cursor: pointer; display: flex; align-items: center; justify-content: center; }
        .fullscreen-btn { color: #007bff; }
        .close-btn { color: #cc0000; }

        .zip-input-label { display: inline-flex; align-items: center; background: #2196F3; color: white; padding: 0 10px; border-radius: 12px; font-size: 12px; height: 28px; cursor: pointer; white-space: nowrap; }
        .zip-file-input { display: none; }
        
        .header-sukta-group { display: flex; align-items: center; gap: 4px; background: #f5f5f5; padding: 2px 6px; border-radius: 16px; }
        .sukta-label { font-weight: bold; color: #943155; font-size: 13px; margin-right: 2px; }
        .nav-btn { width: 26px; height: 26px; border-radius: 50%; border:none; background:#943155; color:white; font-size:14px; display:flex; align-items:center; justify-content:center; }
        .nav-input { width: 40px; height: 26px; text-align:center; border:1px solid #ddd; border-radius:4px; font-weight:bold; font-size: 13px; }

        /* FOOTER */
        .audio-controls { background: white; padding: 10px; border-top: 1px solid #eee; display: flex; flex-direction: column; gap: 8px; }
        .player-controls { display: flex; flex-wrap: wrap; justify-content: space-between; align-items: center; width: 100%; gap: 10px; }
        .player-main-controls { display: flex; align-items: center; gap: 12px; }
        
        .player-btn { width: 40px; height: 40px; border-radius: 50%; border:none; color:white; font-size: 16px; cursor:pointer; display:flex; align-items:center; justify-content:center; }
        .prev-btn, .next-btn { background: #943155; }
        .play-btn { background: #4CAF50; width: 48px; height: 48px; font-size: 22px; }
        .loop-infty-btn { background: #ff9800; }
        
        .player-secondary-controls { display: flex; align-items: center; gap: 8px; margin-left: auto; }
        .settings-btn, .meaning-btn { width: 40px; height: 40px; border-radius: 50%; border:none; color:#fff; font-size:16px; cursor:pointer; display:flex; align-items:center; justify-content:center; }
        .settings-btn { background: #ff9800; }
        .meaning-btn { background: #ff9933; color: #3b1300; font-weight: bold; }

        /* [DELETED] Progress Bar CSS Blocks */

        .loop-control-box { display: inline-flex; align-items: center; gap: 4px; padding: 2px 8px; border-radius: 12px; background: #f5f5f5; border: 1px solid #ddd; font-size: 11px; }
        .loop-point-btn { padding: 0 8px; height: 22px; border-radius: 11px; border: none; font-size: 11px; background: #943155; color: #fff; }

        /* ============================================================
           MODE 2: PHONE LANDSCAPE (Slim)
           ============================================================ */
        @media (max-width: 767px) and (orientation: landscape) {
            .top-bar-header { height: 36px; padding: 0 8px; }
            .header-btn { font-size: 18px; padding: 0 4px; }
            .zip-input-label { height: 24px; font-size: 11px; padding: 0 8px; }
            .nav-btn { width: 22px; height: 22px; font-size: 12px; }
            .nav-input { width: 35px; height: 22px; font-size: 12px; }
            .header-sukta-group { padding: 1px 4px; }
            .sukta-label { font-size: 11px; }

            .audio-controls { padding: 4px 8px; height: 42px; flex-direction: row; align-items: center; }
            
            .player-btn { width: 28px; height: 28px; font-size: 12px; }
            .play-btn { width: 34px; height: 34px; font-size: 16px; }
            .settings-btn, .meaning-btn { width: 40px; height: 40px; font-size: 12px; }
            .player-main-controls { gap: 6px; }
            
            .loop-control-box { padding: 0 4px; font-size: 10px; }
            .loop-toggle span { display: none; }
        }

        /* ============================================================
           MODE 3: iPAD / TABLET / DESKTOP (Big Screen)
           ============================================================ */
        @media (min-width: 768px) {
            
            /* Header: Tall & Spacious */
            .top-bar-header { height: 60px; padding: 0 20px; }
            .header-btn { font-size: 24px; height: 44px; padding: 0 15px; }
            .zip-input-label { height: 40px; font-size: 16px; padding: 0 20px; border-radius: 20px; }
            
            .header-sukta-group { padding: 6px 14px; gap: 8px; border-radius: 22px; }
            .sukta-label { font-size: 16px; margin-right: 5px; }
            .nav-btn { width: 40px; height: 40px; font-size: 18px; }
            .nav-input { width: 60px; height: 40px; font-size: 18px; }

            /* Footer: Tall & Spacious */
            .audio-controls { height: 90px; padding: 0 25px; flex-direction: row; align-items: center; }

            /* Buttons (Huge) */
            .player-main-controls { gap: 20px; }
            .player-btn { width: 54px; height: 54px; font-size: 24px; }
            .play-btn { width: 70px; height: 70px; font-size: 32px; } 
            
            .player-secondary-controls { gap: 18px; }
            .settings-btn, .meaning-btn { width: 52px; height: 52px; font-size: 28px; }

            .loop-control-box { padding: 6px 16px; font-size: 14px; border-radius: 20px; }
            .loop-point-btn { height: 32px; font-size: 13px; padding: 0 16px; border-radius: 16px; }
            .loop-toggle input { transform: scale(1.6); margin-right: 6px; }
            
            .settings-panel { padding: 20px; min-width: 250px; bottom: 85px; }
            .settings-row { margin-bottom: 20px; font-size: 16px; }
        }

        /* --- FIXED OVERLAYS --- */
        .overlay-panel { 
            position: fixed; inset: 0; background: rgba(0,0,0,0.5); z-index: 2000; display: none; align-items: center; justify-content: center; 
        }
        .panel-content { 
            background: white; width: 90%; max-width: 600px; max-height: 85vh; border-radius: 8px; display: flex; flex-direction: column; overflow: hidden; box-shadow: 0 4px 20px rgba(0,0,0,0.3); padding: 15px; 
        }
        
        /* --- HELP OVERLAY (Added for V4 Style) --- */
        .help-overlay { 
            position: fixed; inset: 0; background: rgba(0,0,0,0.5); z-index: 2000; display: none; align-items: center; justify-content: center; 
        }
        .help-panel { 
            background: white; width: 90%; max-width: 600px; max-height: 85vh; border-radius: 8px; display: flex; flex-direction: column; overflow: hidden; box-shadow: 0 4px 20px rgba(0,0,0,0.3); padding: 15px; 
        }

        .meaning-table { width: 100%; border-collapse: collapse; margin-top: 4px; font-size: 13px; }
        .meaning-table th, .meaning-table td { border: 1px solid #e0e0e0; padding: 4px 6px; }
        .meaning-table th { background: #f7f7f7; }
        .meaning-rig { background: #fffbe6; padding: 8px; border: 1px solid #f0e0aa; border-radius: 4px; margin-bottom: 8px; font-size: 15px; font-family: 'Devanagari', serif; }
        .insight-box { background: #e3f2fd; padding: 8px; border-radius: 4px; margin-top: 8px; border: 1px solid #bbdefb; font-size: 13px; color: #0d47a1; }

        .settings-panel { position: fixed; right: 10px; bottom: 80px; background: #ffffff; border-radius: 12px; padding: 10px; box-shadow: 0 8px 30px rgba(0,0,0,0.2); min-width: 220px; z-index: 2000; display: none; }
        .settings-row { display: flex; align-items: center; gap: 8px; justify-content: space-between; margin-bottom: 8px; font-size: 14px; }
        .settings-row input[type=range] { flex: 1; }

        .numpad-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.5); z-index: 2100; display: none; align-items: center; justify-content: center; }
        .numpad-box { background: white; width: 220px; border-radius: 10px; overflow: hidden; box-shadow: 0 5px 15px rgba(0,0,0,0.3); }
        .numpad-header { background: #f0f0f0; padding: 8px; display: flex; justify-content: space-between; font-weight: bold; border-bottom: 1px solid #ddd; }
        .numpad-display { background: #fff; font-size: 24px; text-align: center; padding: 10px; color: #943155; font-weight: bold; border-bottom: 1px solid #eee; min-height: 45px; }
        .numpad-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 5px; padding: 8px; background: #f9f9f9; }
        .numpad-btn { background: white; border: 1px solid #ddd; border-radius: 5px; height: 40px; font-size: 18px; cursor: pointer; font-weight: bold; }
        .numpad-btn:active { background: #eee; }
        .numpad-go { background: #4CAF50; color: white; border-color: #4CAF50; }
        
        .loop-infty-btn.loop-active { background: #b8860b; box-shadow: 0 0 0 2px gold; }
        .loop-infty-btn.is-silence-detecting { animation: rs-pulse 1s infinite; }
        @keyframes rs-pulse { 0% { opacity: 1; } 50% { opacity: 0.6; } 100% { opacity: 1; } }
        .loop-point-btn.set-end-state { background: #bf360c; }
        .loop-point-btn:disabled { opacity: 0.4; }

        /* --- NOTICE OVERLAY --- */
        .btn-small { padding: 4px 8px; font-size: 12px; cursor: pointer; background: #eee; border: 1px solid #ccc; border-radius: 3px; }
        #notice-overlay { position: fixed; inset: 0; background: rgba(0,0,0,0.8); z-index: 9999; display: flex; align-items: center; justify-content: center; }
        .notice-box { background: white; padding: 5px; border-radius: 8px; max-width: 500px; width: 90%; text-align: center; }
    </style>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
</head>
<body>

<div id="notice-overlay">
    <div class="notice-box">
       <h3>Notice / ಸುಚಾನೆ <h3>
          <p>Om Sri Gurubhyo Namaha Harihi Om<p>
        <p>Please seek proper guidance from your guru. This Player is only for supplementary support.<p>
 <p>|| ಓಂ ಶ್ರೀ ಗುರುಭ್ಯೋ ನಮಃ, ಹರಿಃ ಓಂ ||<p>
            <p>ಇದು ಧಾರ್ಮಿಕ ಮತ್ತು ಪಠನ ಸಹಾಯಕೋಪಕರಣವಾಗಿದೆ. ದಯವಿಟ್ಟು ನಿಮ್ಮ ಗುರುಗಳ ಮಾರ್ಗದರ್ಶನವನ್ನು ಪಡೆದುಕೊಳ್ಳಿ.<p>
  
        <div style="margin-top:5px; display:flex; justify-content:center; gap:10px;">
            <button onclick="window.close()" class="btn-small">Decline ನಿರಾಕರಿಸಿ</button>
            <button onclick="document.getElementById('notice-overlay').style.display='none'" class="btn-small" style="background:#943155; color:white;">Accept ಸ್ವೀಕರಿಸಿ</button>
        </div>
    </div>
</div>

<div class="app-container">
    <div class="controls-container">
        <div class="top-bar-header">
             <div class="header-left-group">
                <button class="header-btn fullscreen-btn" onclick="player.toggleFullscreen()">&#9744;</button>
                <button class="header-btn close-btn" onclick="player.closePlayer()">X</button>
                <div class="header-sukta-group">
                    <span class="sukta-label">Suk:</span>
                    <button class="nav-btn" onclick="player.changeSukta(-1)">←</button>
                    <input type="text" id="sukta-input" class="nav-input" value="1" readonly onclick="player.openNumpad(this)">
                    <button class="nav-btn" onclick="player.changeSukta(1)">→</button>
                </div>
             </div>
             <div class="header-right-group">
                <label class="zip-input-label">
                   Open ZIP
                   <input type="file" class="zip-file-input" id="zip-file" accept=".zip" />
                </label>
                <button class="header-btn help-btn" onclick="document.getElementById('help-overlay').style.display='flex'">?</button>
             </div>
        </div>
        
        <div id="status-message" class="status-message"></div>
    </div>

    <div class="main-content">
        <div id="mantra-container" class="zoom-100">
            <div style="color:#999; margin-top:20px;">
                <h3>RS-Player V3 (Header Fixed)</h3>
                <p>Select Mandala ZIP</p>
            </div>
        </div>

        <div id="help-overlay" class="help-overlay" onclick="if(event.target===this)this.style.display='none'">
            <div class="help-panel">
                <h3 style="color:#943155; border-bottom:1px solid #eee; padding-bottom:5px; margin-top:0;">Help Guide</h3>
                <div style="flex:1; overflow-y:auto; padding-right:5px; font-size:14px; line-height:1.6;">
                    <p><strong>1. Setup:</strong> Load your Mandala ZIP file to begin.</p>
                    <p><strong>2. Navigation:</strong>
                       <br>• Use <strong>← →</strong> arrows to change Suktas.
                       <br>• Click the <strong>Sukta Number</strong> to type a specific number.
                       <br>• Use <strong>◀◀ ▶▶</strong> to jump between Mantras.</p>
                    <p><strong>3. Auto Loop (Vakya Mode):</strong>
                       <br>Click the <strong>∞</strong> button. The player will detect silence and loop the current phrase automatically.</p>
                    <p><strong>4. Manual Loop (Custom):</strong>
                       <br>• Check the <strong>"Loop"</strong> box in the footer.
                       <br>• Click <strong>"Set Start"</strong> to mark where loop begins.
                       <br>• Click <strong>"Set End"</strong> to mark where loop ends and restart.</p>
                    <p><strong>5. Meaning (ॐ):</strong> Click the Om symbol to view text, meanings, and insights.</p>
                    <p><strong>6. Settings (⚙):</strong> Adjust Playback Speed, Zoom Level, and Volume.</p>
                </div>
                <button class="btn-small" onclick="document.getElementById('help-overlay').style.display='none'" style="margin-top:10px; align-self:flex-end; background:#943155; color:white; border:none; padding:8px 15px;">Close</button>
            </div>
        </div>

        <div id="meaning-overlay" class="overlay-panel">
            <div class="panel-content">
                <div style="display:flex; justify-content:space-between; border-bottom:1px solid #eee; padding-bottom:5px; margin-bottom:10px;">
                    <strong>Meaning & Notes</strong>
                    <button onclick="document.getElementById('meaning-overlay').style.display='none'">Close</button>
                </div>
                <div style="overflow-y:auto; flex:1;">
                    <div id="meaning-rig-text" class="meaning-rig"></div>
                    <div style="margin-bottom:8px;">
                        <label><input type="checkbox" id="chk-kn" checked onchange="player.renderMeaning()"> Kannada</label>
                        <label><input type="checkbox" id="chk-en" checked onchange="player.renderMeaning()"> English</label>
                    </div>
                    <div id="meaning-content"></div>
                </div>
            </div>
        </div>

        <div class="audio-controls">
            <div class="player-controls">
                <div class="player-main-controls">
                    <button class="player-btn prev-btn" onclick="player.previousMantra()">◀◀</button>
                    <button class="player-btn play-btn" id="playPauseBtn" onclick="player.togglePlay()">▶</button>
                    <button class="player-btn loop-infty-btn" id="infinityBtn" onclick="player.activateVakyaLoop()">∞</button>
                    <button class="player-btn next-btn" onclick="player.nextMantra()">▶▶</button>
                </div>
                <div class="player-secondary-controls">
                    <button class="settings-btn meaning-btn" onclick="player.showMeanings()">ॐ</button>
                    <div class="loop-control-box">
                        <label class="loop-toggle">
                            <input type="checkbox" id="loop-active-checkbox">
                            <span>Loop</span>
                        </label>
                        <button class="loop-point-btn" id="setLoopPointBtn" disabled>Set Start</button>
                    </div>
                    <button class="settings-btn" id="settingsBtn" onclick="player.toggleSettings(event)">⚙</button>
                </div>
            </div>
        </div>

        <div id="settings-panel" class="settings-panel">
            <div class="settings-inner">
                <div class="settings-row"><span>Speed</span><input type="range" min="0" max="3" step="1" value="1" oninput="player.setSpeed(this.value)"></div>
                <div class="settings-row"><span>Zoom</span><input type="range" min="100" max="300" step="25" value="100" oninput="player.setZoomLevel(this.value)"></div>
                <div class="settings-row"><span>Volume</span><input type="range" min="0" max="100" step="5" value="100" oninput="player.setVolume(this.value)"></div>
            </div>
        </div>
    </div>
</div>

<div id="numpad-overlay" class="numpad-overlay">
    <div class="numpad-box">
        <div class="numpad-header"><span>Enter Number</span><button onclick="player.closeNumpad()" style="border:none;background:none;">X</button></div>
        <div id="numpad-display" class="numpad-display"></div>
        <div class="numpad-grid">
            <button class="numpad-btn" onclick="player.numpadPress(1)">1</button>
            <button class="numpad-btn" onclick="player.numpadPress(2)">2</button>
            <button class="numpad-btn" onclick="player.numpadPress(3)">3</button>
            <button class="numpad-btn" onclick="player.numpadPress(4)">4</button>
            <button class="numpad-btn" onclick="player.numpadPress(5)">5</button>
            <button class="numpad-btn" onclick="player.numpadPress(6)">6</button>
            <button class="numpad-btn" onclick="player.numpadPress(7)">7</button>
            <button class="numpad-btn" onclick="player.numpadPress(8)">8</button>
            <button class="numpad-btn" onclick="player.numpadPress(9)">9</button>
            <button class="numpad-btn numpad-action" onclick="player.numpadDelete()">⌫</button>
            <button class="numpad-btn" onclick="player.numpadPress(0)">0</button>
            <button class="numpad-btn numpad-go" onclick="player.numpadApply()">GO</button>
        </div>
    </div>
</div>

<script>
    class MandalaMantraPlayer {
        constructor() {
            this.audio = new Audio();
            this.zipData = null;
            this.mandalaNum = 1;
            this.currentSukta = 1;
            this.currentMantra = 0;
            this.rootPrefix = ""; 
            
            this.timings = [];
            this.mantras = [];
            this.fullCells = [];
            this.meaningData = null; 
            
            this.vakyaLoop = { active: false, start: 0, end: 0 };
            
            this.isManualLoopEnabled = false;
            this.loopStartTime = null;
            this.loopEndTime = null;
            this.isSettingLoopStart = true;

            // iPad Lazy Load vars
            this.audioBuffer = null; 
            this.lastAudioBlob = null;

            this.els = {
                suktaInput: document.getElementById('sukta-input'),
                mantraContainer: document.getElementById('mantra-container'),
                statusMessage: document.getElementById('status-message'),
                playBtn: document.getElementById('playPauseBtn'),
                infBtn: document.getElementById('infinityBtn'),
                /* [DELETED] progress: ..., currTime: ..., durTime: ... */
                settings: document.getElementById('settings-panel'),
                meaningOverlay: document.getElementById('meaning-overlay'),
                numpadOverlay: document.getElementById('numpad-overlay'),
                numpadDisplay: document.getElementById('numpad-display'),
                loopCheckbox: document.getElementById('loop-active-checkbox'),
                setLoopPointBtn: document.getElementById('setLoopPointBtn')
            };
            
            this.numpadVal = "";
            this.activeInput = null;

            this.setupEventListeners();
            this.setZoomLevel(100);
            window.player = this;
        }

        setupEventListeners() {
            document.getElementById('zip-file').addEventListener('change', e => {
                if(e.target.files.length > 0) this.loadZipFile(e.target.files[0]);
            });
            this.audio.addEventListener('timeupdate', () => this.onTimeUpdate());
            this.audio.addEventListener('ended', () => this.onEnded());
            
            if(this.els.loopCheckbox) {
                this.els.loopCheckbox.addEventListener('change', () => {
                    this.setManualLoopEnabled(this.els.loopCheckbox.checked);
                });
            }
            if(this.els.setLoopPointBtn) {
                this.els.setLoopPointBtn.addEventListener('click', () => {
                    this.handleLoopPointButton();
                });
            }

            // DOCUMENT CLICK LISTENER (iPad Safe)
            document.addEventListener('click', (e) => {
                if(this.els.settings.style.display === 'block' && 
                   !this.els.settings.contains(e.target) && 
                   !this.els.numpadOverlay.contains(e.target) &&
                   !e.target.closest('#settingsBtn')) {
                    this.els.settings.style.display = 'none';
                }
            });
        }

        async loadZipFile(file) {
            if (!file) return;
            if (typeof JSZip === 'undefined') { alert("JSZip library missing. Please embed it."); return; }
            
            this.showStatus("Loading ZIP...", "loading");
            try {
                this.zipData = await new JSZip().loadAsync(file);
                
                this.rootPrefix = "";
                let found = false;
                const keys = Object.keys(this.zipData.files);
                for(const path of keys) {
                    const match = path.match(/(?:^|[\/\\])M(\d+)[\/\\]/);
                    if(match) {
                        this.mandalaNum = parseInt(match[1]);
                        if(match.index > 0) {
                            this.rootPrefix = path.substring(0, match.index + (match[0].startsWith('/') || match[0].startsWith('\\') ? 1 : 0));
                        }
                        found = true;
                        break;
                    }
                }

                if(!found) throw new Error("No Mandala folder found.");
                this.currentSukta = 1;
                this.els.suktaInput.value = 1;
                this.resetManualLoopState();
                this.showStatus(`Loaded M${this.mandalaNum}`, "success");
                this.loadCurrentSukta();
            } catch(e) {
                this.showStatus("Error: " + e.message, "error");
            }
        }

        async loadCurrentSukta() {
            if(!this.zipData) return;
            this.disableVakyaLoop();
            
            const mStr = String(this.mandalaNum).padStart(2,'0');
            const sStr = String(this.currentSukta).padStart(3,'0');
            const baseFolder = `${this.rootPrefix}M${this.mandalaNum}/`;
            const baseFile = `${mStr}-${sStr}`; 
            
            this.showStatus(`Loading ${baseFile}...`, "loading");
            
            try {
                // 1. HTML
                let htmlFile = this.zipData.file(`${baseFolder}${mStr}.html`);
                if(!htmlFile) htmlFile = this.zipData.file(`${baseFolder}${baseFile}.html`);
                
                if(htmlFile) {
                    const txt = await htmlFile.async("text");
                    this.parseMandalaHTML(txt);
                } else {
                    this.fullCells = [];
                    this.els.mantraContainer.innerHTML = "<div style='color:#999'>Text missing</div>";
                }

                // 2. JSON
                let jsonFile = this.zipData.file(`${baseFolder}${baseFile}.json`);
                if(!jsonFile) {
                    const regex = new RegExp(`M${this.mandalaNum}[/\\\\]0?${this.mandalaNum}-0?${this.currentSukta}\\.json$`);
                    const foundKey = Object.keys(this.zipData.files).find(k => regex.test(k));
                    if(foundKey) jsonFile = this.zipData.file(foundKey);
                }

                if(jsonFile) {
                    const txt = await jsonFile.async("text");
                    this.meaningData = JSON.parse(txt);
                    this.timings = this.meaningData.mantras.map(m => m.rig_time_s || m.Rig_TF_s || 0);
                } else {
                    // Fallback TXT
                    let txtFile = this.zipData.file(`${baseFolder}${baseFile}.txt`);
                    if(txtFile) {
                        const raw = await txtFile.async("text");
                        // Robust TXT Parser
                        this.timings = raw.split(/\r?\n/).map(line => {
                            const trimmed = line.trim();
                            if(!trimmed) return -1;
                            let clean = trimmed.replace(/^\d+[\)\.]\s*/, '').trim();
                            clean = clean.replace(/_/g, ':');
                            const parts = clean.split(':');
                            let t = 0;
                            if (parts.length === 3) t = parseInt(parts[0]) * 3600 + parseInt(parts[1]) * 60 + parseFloat(parts[2]);
                            else if (parts.length === 2) t = parseInt(parts[0]) * 60 + parseFloat(parts[1]);
                            else t = parseFloat(clean);
                            return isNaN(t) ? -1 : t;
                        }).filter(t => t >= 0);
                        this.meaningData = null;
                    } else {
                        this.timings = [];
                        this.meaningData = null;
                    }
                }

                // 3. MP3 (LAZY LOAD - CRITICAL FOR IPAD)
                let mp3File = this.zipData.file(`${baseFolder}${baseFile}.mp3`);
                if(mp3File) {
                    let blob = await mp3File.async("blob");
                    if(!blob.type || !blob.type.startsWith('audio')) blob = new Blob([blob], {type:'audio/mpeg'});
                    
                    // SAVE BLOB for later decoding (Infinity button)
                    this.lastAudioBlob = blob;
                    this.audioBuffer = null; 
                    
                    const url = URL.createObjectURL(blob);
                    this.audio.src = url;
                } else {
                    throw new Error("MP3 missing");
                }

                this.currentMantra = 0;
                this.showMantra(0);
                this.els.playBtn.textContent = '▶';
                this.showStatus("Ready", "success");

            } catch(e) {
                this.showStatus("Err: " + e.message, "error");
            }
        }

        parseMandalaHTML(htmlText) {
            // 1. ROBUST CLEANUP: Remove ALL styles from previous loads
            document.querySelectorAll('.injected-style').forEach(el => el.remove());

            const parser = new DOMParser();
            const doc = parser.parseFromString(htmlText, 'text/html');
            const styles = doc.querySelectorAll('style');
            
            // 2. INJECT NEW STYLES
            styles.forEach(s => { 
                s.classList.add('injected-style'); 
                document.head.appendChild(s.cloneNode(true)); 
            });

            // 3. PARSE TEXT
            const searchPrefix = `M${this.mandalaNum}-S${this.currentSukta}_`;
            const rows = doc.querySelectorAll('tr');
            this.fullCells = []; 
            rows.forEach(row => {
                const numDiv = row.querySelector('.NumberingRDC');
                if(numDiv && numDiv.textContent.includes(searchPrefix)) {
                    const mantraDiv = row.querySelector('.mantra-content');
                    if(mantraDiv) {
                        this.fullCells.push({ numbering: numDiv.innerHTML, mantra: mantraDiv.innerHTML });
                    }
                }
            });
        }

        // --- AUDIO ENGINE ---
        togglePlay() { this.audio.paused ? (this.audio.play().then(()=>this.els.playBtn.textContent="❚❚")) : (this.audio.pause(), this.els.playBtn.textContent="▶"); }
        
        onTimeUpdate() {
            const t = this.audio.currentTime;
            
            // [DELETED] Progress Bar UI updates logic
            
            let idx = 0;
            for(let i=0; i<this.timings.length; i++) {
                if(t >= this.timings[i]) idx = i; else break;
            }
            if(idx !== this.currentMantra) {
                this.currentMantra = idx;
                this.showMantra(idx);
                if(this.els.meaningOverlay.style.display !== 'none') this.renderMeaning();
            }

            if(this.vakyaLoop.active && t >= this.vakyaLoop.end - 0.05) {
                this.audio.currentTime = this.vakyaLoop.start;
            }

            this.checkManualLoop();
        }

        onEnded() {
            this.changeSukta(1);
        }

        showMantra(i) {
            if(this.fullCells[i]) {
                const cell = this.fullCells[i];
                this.els.mantraContainer.innerHTML = `<div class="mantra-content"><div class="NumberingRDC">${cell.numbering}</div>${cell.mantra}</div>`;
            } else if (this.meaningData && this.meaningData.mantras[i]) {
                const m = this.meaningData.mantras[i];
                this.els.mantraContainer.innerHTML = `<div class="mantra-content">${m.rig_lines ? m.rig_lines.join('<br>') : "Text missing"}</div>`;
            } else {
                this.els.mantraContainer.innerHTML = "<div style='color:#999'>Loading...</div>";
            }
        }

        showMeanings() {
            if(!this.meaningData) { alert("No meaning data found."); return; }
            this.els.meaningOverlay.style.display = 'flex';
            this.renderMeaning();
        }

        renderMeaning() {
            if(!this.meaningData) return;
            const m = this.meaningData.mantras[this.currentMantra];
            if(!m) return;
            
            document.getElementById('meaning-rig-text').innerHTML = m.rig_lines ? m.rig_lines.join('<br>') : "";
            const showKn = document.getElementById('chk-kn').checked;
            const showEn = document.getElementById('chk-en').checked;
            let html = '<table class="meaning-table"><tr><th>Pada</th>';
            if(showKn) html += '<th>Kannada</th>';
            if(showEn) html += '<th>English</th>';
            html += '</tr>';
            if(m.pada_meanings) m.pada_meanings.forEach(p => {
                html += `<tr><td>${p.pada_original}</td>`;
                if(showKn) html += `<td>${p.meaning_kn}</td>`;
                if(showEn) html += `<td>${p.meaning_en}</td>`;
                html += `</tr>`;
            });
            html += '</table>';
            
            if(showKn) html += `<p><strong>ಸಂಪೂರ್ಣ ಅರ್ಥ:</strong> ${m.full_meaning_kn || ''}</p>`;
            if(showEn) html += `<p><strong>Full Meaning:</strong> ${m.full_meaning_en || ''}</p>`;
            if(showKn && m.Insight_kn) html += `<div class="insight-box"><strong>ಭಾವಾರ್ಥ:</strong> ${m.Insight_kn}</div>`;
            if(showEn && m.Insight_en) html += `<div class="insight-box"><strong>Insight:</strong> ${m.Insight_en}</div>`;
            
            document.getElementById('meaning-content').innerHTML = html;
        }

        // --- VAKYA LOOP (LAZY LOAD) ---
        async activateVakyaLoop() {
            if(this.vakyaLoop.active) { 
                this.vakyaLoop.active = false; 
                this.els.infBtn.classList.remove('loop-active'); 
                return; 
            }
            
            this.els.infBtn.classList.add('is-silence-detecting');
            this.showStatus('Analyzing Audio...', 'loading');

            // LAZY DECODE
            if (!this.audioBuffer && this.lastAudioBlob) {
                try {
                    const arrayBuf = await this.lastAudioBlob.arrayBuffer();
                    const ac = new (window.AudioContext || window.webkitAudioContext)();
                    this.audioBuffer = await ac.decodeAudioData(arrayBuf);
                    ac.close();
                } catch(e) {
                    this.els.infBtn.classList.remove('is-silence-detecting');
                    this.showStatus("Audio Decode Failed", "error");
                    return;
                }
            }

            setTimeout(() => {
                try {
                    const t = this.audio.currentTime;
                    const sr = this.audioBuffer.sampleRate;
                    const data = this.audioBuffer.getChannelData(0);
                    const startS = Math.max(0, Math.floor((t-10)*sr));
                    const endS = Math.min(data.length, Math.floor((t+10)*sr));
                    const block = Math.floor(sr*0.05);
                    let silences=[], isS=false, sStart=0;
                    for(let i=startS; i<endS; i+=block) {
                        let sum=0; for(let j=0;j<block;j++) sum+=data[i+j]**2;
                        if(Math.sqrt(sum/block) < 0.01) { if(!isS){ isS=true; sStart=i; } }
                        else { if(isS){ isS=false; if((i-sStart)/sr > 0.3) silences.push({s:sStart/sr, e:i/sr}); } }
                    }
                    let prev = silences.filter(s => s.e < t).pop();
                    let next = silences.find(s => s.s > t);
                    this.els.infBtn.classList.remove('is-silence-detecting');
                    if(prev && next) {
                        this.vakyaLoop = { active: true, start: prev.e, end: next.s };
                        this.els.infBtn.classList.add('loop-active');
                        this.audio.currentTime = this.vakyaLoop.start;
                        this.audio.play();
                    } else { this.showStatus("Silence not found", "error"); }
                } catch(e) { this.els.infBtn.classList.remove('is-silence-detecting'); }
            }, 50);
        }
        disableVakyaLoop() { this.vakyaLoop.active=false; this.els.infBtn.classList.remove('loop-active'); }

        // --- MANUAL LOOP ---
        setManualLoopEnabled(enabled) {
            this.isManualLoopEnabled = !!enabled;
            if (!this.isManualLoopEnabled) {
                this.loopStartTime = null; this.loopEndTime = null; this.isSettingLoopStart = true;
                if(this.els.setLoopPointBtn) {
                    this.els.setLoopPointBtn.textContent = 'Set Start';
                    this.els.setLoopPointBtn.disabled = true;
                    this.els.setLoopPointBtn.classList.remove('set-end-state');
                }
            } else {
                if(this.els.setLoopPointBtn) {
                    this.els.setLoopPointBtn.disabled = false;
                    this.els.setLoopPointBtn.textContent = 'Set Start';
                    this.els.setLoopPointBtn.classList.remove('set-end-state');
                }
                this.isSettingLoopStart = true;
            }
        }

        handleLoopPointButton() {
            if (!this.audio || !this.isManualLoopEnabled) return;
            const t = this.audio.currentTime || 0;
            if (this.isSettingLoopStart) {
                this.loopStartTime = t; this.loopEndTime = null; this.isSettingLoopStart = false;
                this.els.setLoopPointBtn.textContent = 'Set End';
                this.els.setLoopPointBtn.classList.add('set-end-state');
            } else {
                this.loopEndTime = t;
                if (this.loopStartTime != null && this.loopEndTime < this.loopStartTime) {
                    let tmp = this.loopStartTime; this.loopStartTime = this.loopEndTime; this.loopEndTime = tmp;
                }
                if (this.loopEndTime != null && this.loopStartTime != null && this.loopEndTime - this.loopStartTime < 0.3) {
                    this.loopEndTime = this.loopStartTime + 0.3;
                }
                this.isSettingLoopStart = true;
                this.els.setLoopPointBtn.textContent = 'Set Start';
                this.els.setLoopPointBtn.classList.remove('set-end-state');
            }
        }

        resetManualLoopState() {
            this.isManualLoopEnabled = false; this.loopStartTime = null; this.loopEndTime = null; this.isSettingLoopStart = true;
            if(this.els.loopCheckbox) this.els.loopCheckbox.checked = false;
            if(this.els.setLoopPointBtn) {
                this.els.setLoopPointBtn.textContent = 'Set Start';
                this.els.setLoopPointBtn.disabled = true;
                this.els.setLoopPointBtn.classList.remove('set-end-state');
            }
        }

        checkManualLoop() {
            if (!this.isManualLoopEnabled || !this.audio || this.loopStartTime == null || this.loopEndTime == null) return;
            if (this.audio.currentTime >= this.loopEndTime) this.audio.currentTime = this.loopStartTime;
        }

        // --- CONTROLS ---
        previousMantra() { let n = this.currentMantra - 1; if(n>=0) this.audio.currentTime = this.timings[n]; }
        nextMantra() { let n = this.currentMantra + 1; if(n<this.timings.length) this.audio.currentTime = this.timings[n]; }
        
        /* [DELETED] seekToPosition(e) */
        
        changeSukta(d) {
            const next = parseInt(this.els.suktaInput.value) + d;
            this.els.suktaInput.value = next;
            this.currentSukta = next;
            this.loadCurrentSukta();
        }
        
        // --- NUMPAD ---
        openNumpad(el) {
            this.activeInput = el; this.numpadVal = "";
            this.els.numpadDisplay.textContent = "Enter";
            this.els.numpadOverlay.style.display = 'flex';
        }
        closeNumpad() { this.els.numpadOverlay.style.display = 'none'; this.activeInput = null; }
        numpadPress(n) { this.numpadVal += n; this.els.numpadDisplay.textContent = this.numpadVal; }
        numpadDelete() { this.numpadVal = this.numpadVal.slice(0,-1); this.els.numpadDisplay.textContent = this.numpadVal || "Enter"; }
        numpadApply() {
            if(this.activeInput) {
                this.activeInput.value = parseInt(this.numpadVal);
                if(this.activeInput.id === 'sukta-input') {
                    this.currentSukta = parseInt(this.numpadVal);
                    this.loadCurrentSukta();
                }
            }
            this.closeNumpad();
        }

        // --- UTILS ---
        toggleSettings(e) { 
            if(e) { e.stopPropagation(); e.preventDefault(); }
            const s = this.els.settings; 
            s.style.display = s.style.display==='block'?'none':'block'; 
        }
        toggleFullscreen() { !document.fullscreenElement ? document.documentElement.requestFullscreen() : document.exitFullscreen(); }
        closePlayer() { if(confirm("Exit?")) window.close(); }
        setSpeed(v) { this.audio.playbackRate = [0.75, 1, 1.25, 1.5][v]; }
        setZoomLevel(v) { document.getElementById('mantra-container').className = `zoom-${v}`; }
        setVolume(v) { this.audio.volume = v/100; }
        showStatus(msg, type) {
            const s = this.els.statusMessage;
            s.textContent = msg;
            s.className = `status-message status-${type}`;
            s.style.display = 'block';
            setTimeout(()=> s.style.display='none', 3000);
        }
        /* [DELETED] fmtTime(s) */
    }
    
    new MandalaMantraPlayer();
</script>
</body>
</html>